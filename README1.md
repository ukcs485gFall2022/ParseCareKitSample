<!--
Name of your final project
-->
# Cycle Pal
![Swift](https://img.shields.io/badge/swift-5.5-brightgreen.svg) ![Xcode 13.2+](https://img.shields.io/badge/xcode-13.2%2B-blue.svg) ![iOS 15.0+](https://img.shields.io/badge/iOS-15.0%2B-blue.svg) ![watchOS 8.0+](https://img.shields.io/badge/watchOS-8.0%2B-blue.svg) ![CareKit 2.1+](https://img.shields.io/badge/CareKit-2.1%2B-red.svg) ![ci](https://github.com/netreconlab/CareKitSample-ParseCareKit/workflows/ci/badge.svg?branch=main)

## Description
<!--
Give a short description on what your project accomplishes and what tools is uses. Basically, what problems does it solve and why it's different from other apps in the app store.
-->
An example application of [CareKit](https://github.com/carekit-apple/CareKit)'s OCKSample synchronizing CareKit data to the Cloud via [ParseCareKit](https://github.com/netreconlab/ParseCareKit).

I created an app focused on women’s health. Specifically, I focused on menstrual cycle tracking and breast health management. For many women, tracking their mood, symptoms, libido, sexual  activity, vaginal discharge, and periods throughout their menstrual cycles has become a part of their daily  routine. However, most period tracking apps do not incorporate breast health management. One in eight women will  develop breast cancer in her lifetime, and early detection drastically increases the survival rate. For  example, the 5-year relative survival rate for a woman diagnosed with a localized (not spread outside the  breast) cancer is 99%, while the 5-year relative survival rate for a woman diagnosed with distant  (metastatic) breast cancer is 29% (American Cancer Society). Therefore, menstrual cycle tracking apps should encourage women of all ages to be proactive about their breast health. My app's name is Cycle Pal, and the primary audience is anyone with a period and breasts. 

The difference between my app and other menstrual cycle tracking/breast health management apps is that my app emphasizes both period tracking and breast health to give a more  holistic view of the user’s health. Young women and individuals without a family history of breast cancer are unlikely to download an app specifically for breast health since they are unsuspecting of breast cancer. Ideally, having both menstrual cycle tracking and breast health management together in one app will attract a wider audience of users.

### Demo Video
<!--
Add the public link to your YouTube or video posted elsewhere.
-->
To learn more about this application, watch the video below:

<a href="https://youtu.be/R_6tDtnezUE
" target="_blank"><img src="https://user-images.githubusercontent.com/68121972/166832145-d95103e4-bf0d-4d07-84a0-b4a55b5e67c5.jpg" 
alt="Sample demo video" width="240" height="180" border="10" /></a>

Sorry that my demo is over the time limit.

### Designed for the following users
<!--
Describe the types of users your app is designed for and who will benefit from your app.
-->
The primary audience is anyone with a period and breasts. This will benefit people of all ages, those who have a family history of breast cancer, and really, those who don't!
<!--
In addition, you can drop screenshots directly into your README file to add them to your README. Take these from your presentations.
-->

#### Login/Onboarding (screenshots do not include the "Before You Join," "Informed Consent," and "Health Data Request" steps)
-->
<img src="https://user-images.githubusercontent.com/68121972/166780147-22ebb7d4-f956-496e-af7a-d20a69381c35.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166785557-323a6f51-de3c-434e-8281-4c9a61454c94.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166799773-4f4dabbb-a818-4779-9b0c-f8ac06019393.png" width="175"><img src="https://user-images.githubusercontent.com/68121972/166800310-580ed4ee-007e-4940-948e-ae78b458c96f.png" width="175"><img src="https://user-images.githubusercontent.com/68121972/166800422-0b4cbef3-c5af-4b3b-be2b-157b16d95796.png" width="175">

#### Home Page
--->
<img src="https://user-images.githubusercontent.com/68121972/166801218-add0b5b2-1fa1-4fdd-81d4-da1033a9fecf.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166801805-f33c05bc-e163-4e71-9a15-6baf76b727ae.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166801936-81783b1a-1924-4af6-b5b3-068ca9beb380.png" width="175"><img src="https://user-images.githubusercontent.com/68121972/166802083-e32207ad-3660-4b25-b3ab-18de1a09860a.png" width="175">

#### Daily Log/Check In Survey
--->
<img src="https://user-images.githubusercontent.com/68121972/166802875-e8f87860-0109-49e1-bde7-3da20913c7d2.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166803130-4994fd66-8963-4f22-a1fe-1af367fe2d03.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166803218-9e5776ab-427d-47a4-ac0b-a7d254621b5e.png" width="175"><img src="https://user-images.githubusercontent.com/68121972/166803402-daa48fae-1659-47bb-ac4f-7a3b90924e62.png" width="175">

#### Breast Self-Exam Survey
--->
<img src="https://user-images.githubusercontent.com/68121972/166803756-6bf77aa5-960c-4c3a-b724-45fac38aff36.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166803843-be7b00de-2417-4bc9-b887-ae2684419fb1.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166803919-a72f718b-5aa7-480b-874e-8df025bcef98.png" width="175"><img src="https://user-images.githubusercontent.com/68121972/166804010-a098ef8a-505b-4daa-a926-49619b8667a6.png" width="175"><img src="https://user-images.githubusercontent.com/68121972/166804242-62c9dfab-fba7-41f6-86c3-e118d624f0d3.png" width="175">

---><img src="https://user-images.githubusercontent.com/68121972/166804385-813663c2-d560-4056-9509-497921dedcd0.png" width="175"><img src="https://user-images.githubusercontent.com/68121972/166804626-35a7eb56-3530-4a98-acac-712d7e71d036.png" width="175">

#### Insights
--->
<img src="https://user-images.githubusercontent.com/68121972/166812791-313b52a2-0a26-4d06-bed8-9eb9bb600ea2.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166812900-f674d952-984b-4cfc-8610-23b50db92d00.png" width="175">

#### Contacts and Profile
--->
<img src="https://user-images.githubusercontent.com/68121972/166822131-f83a766b-c416-404f-8f67-078e340f3299.png" width="175"> <img src="https://user-images.githubusercontent.com/68121972/166822279-157712e6-d88a-4a4f-9b0b-40f4f04a0f44.png" width="175">

<!--
List all of the members who developed the project and
link to each members respective GitHub profile
-->
Developed by: 
- [Julia Stekardis](https://github.com/juliastekardis) - `University of Kentucky`, `Computer Science`

ParseCareKit synchronizes the following entities to Parse tables/classes using [Parse-Swift](https://github.com/parse-community/Parse-Swift):

- [x] OCKTask <-> Task
- [x] OCKHealthKitTask <-> HealthKitTask 
- [x] OCKOutcome <-> Outcome
- [x] OCKRevisionRecord.KnowledgeVector <-> Clock
- [x] OCKPatient <-> Patient
- [x] OCKCarePlan <-> CarePlan
- [x] OCKContact <-> Contact

**Use at your own risk. There is no promise that this is HIPAA compliant and we are not responsible for any mishandling of your data**

<!--
What features were added by you, this should be descriptions of features added from the [Code](https://uk.instructure.com/courses/2030626/assignments/11151475) and [Demo](https://uk.instructure.com/courses/2030626/assignments/11151413) parts of the final. Feel free to add any figures that may help describe a feature. Note that there should be information here about how the OCKTask/OCKHealthTask's and OCKCarePlan's you added pertain to your app.
-->
## Contributions/Features
- Added date picker question and numerical question to onboarding survey-- useful for obtaining important information about user's menstrual cycles
- TipView that displays user's cycle day based on period start date specified in Onboarding Survey, using relative time-- useful for making user aware of where they are in their menstrual cycle
- CustomFeaturedontentView that directs user to article about early detection of breast cancer-- useful because in the context of my app, this knowledge is necessary for user to have
- Basal body temperature OCKHealthKitTask-- basal body temperature refers to your body's temperature when you're fully at rest. This is relevant to my app because ovulation may cause a slight increase in basal body temperature. This would be especially useful for family planning purposes.
- Daily Log/Check-In Survey: scale question types, text choice question types (single choice and multiple choice)-- useful for helping user keep track of symptoms through menstrual cycle
- Breast Self-Exam Survey: text choice question type (multiple choice)-- ties in the breast health management portion of my app's goals
- Tracking cramps OCKButtonLogTask-- cramps are a common symptom that people experience throughout their entire menstrual cycles, but especially during menstruation
- Take birth control OCKChecklistTask-- serves as a reminder for user to take their birth control. In future development, I would give the user the option of whether to show this card depending on whether they are on birth control
- Schedule your annual well-woman exam OCKSimpleTask-- well-woman exams are critical to taking care of oneself. They focus on issues related to menstrual cycles, breast health management, other female cancers, sex, sexually transmitted diseases, and pregnancy. Having a monthly reminder for the user would be a gentle reminder for them to schedule their appointment. 
- Komen Breast Helpline LinkView-- useful because they are able to answer questions about all things breast-related. Although they are not doctors, they are people who can educate users on breast health and breast cancer.

## Final Checklist
<!--
This is from the checkist from the final [Code](https://uk.instructure.com/courses/2030626/assignments/11151475). You should mark completed items with an x and leave non-completed items empty
-->
- [x] Signup/Login screen tailored to app
- [x] Signup/Login with email address
- [x] Custom app logo
- [x] Custom styling
- [x] Add at least **5 new OCKTask/OCKHealthKitTasks** to your app
  - [x] Have a minimum of 7 OCKTask/OCKHealthKitTasks in your app
  - [ ] 3/7 of OCKTasks should have different OCKSchedules than what's in the original app
- [x] Use at least 5/7 card below in your app
  - [x] InstructionsTaskView - typically used with a OCKTask (note: my app contains two surveys, so I was planning to count one of them as an InstructionsTaskView)
  - [x] SimpleTaskView - typically used with a OCKTask
  - [x] Checklist - typically used with a OCKTask
  - [x] Button Log - typically used with a OCKTask
  - [ ] GridTaskView - typically used with a OCKTask
  - [ ] NumericProgressTaskView (SwiftUI) - typically used with a OCKHealthKitTask
  - [x] LabeledValueTaskView (SwiftUI) - typically used with a OCKHealthKitTask
- [x] Add the LinkView (SwiftUI) card to your app
- [x] Replace the current TipView with a class with CustomFeaturedContentView that subclasses OCKFeaturedContentView. This card should have an initializer which takes any link (note: I have both the TipView and the CustomFeaturedContentView
- [x] Tailor the ResearchKit Onboarding to reflect your application
- [x] Add tailored check-in ResearchKit survey to your app
- [x] Add a new tab called "Insights" to MainTabView
- [x] Replace current ContactView with Searchable contact view
- [x] Change the ProfileView to use a Form view
- [x] Add at least two OCKCarePlan's and tie them to their respective OCKTask's and OCContact's 

## Wishlist features
<!--
Describe at least 3 features you want to add in the future before releasing your app in the app-store
-->
1. As it stands currently, my app collects a lot of qualitative data inside of the surveys that I am currently not doing anything with. Specifically, my Daily Log Survey collects moods, symptoms, and sexual activity, and the only thing being done with it is displaying it to the user once they complete the survey. The same applies to my breast self-exam survey, which allows the user to select specific symptoms. So, in my future improvements, I would want to create insights that highlight what kinds of symptoms the user experiences throughout the month, how frequently, and possibly inform the user about what kind of symptoms they should expect based on previous patterns. For the breast-specific symptoms, I would want to allow the user to report their findings to their doctor.
2. Another feature that I had hoped to complete but is on my future wish list is utilizing the average menstrual cycle length value that the user enters during the Onboarding survey. Specifically, I had hoped to use this information to inform the user about how many days until their next period starts. I also would have liked to use this value to make more intricate schedules, but I did not have enough time to achieve this goal. Relatedly, it would be cool to tell the user more about what part of their menstrual cycle they are in based on the day of their cycle that they are on. For example, when a person begins their period and up until ovulation, they are in the follicular phase, where estrogen rises as an egg is prepared to be released. In summary, I would have liked to make each user's experience more individualized and educational.
3. I did not get to finish one of the extra tasks I had set out to do, which was adding a card where the user could log a new period start date. This is a central component to my app, and any further developments I complete will prioritize this.
4. A feature that I would love to incorporate in the future is connecting my app to hospitals' electronic health records so a user's doctor can access their inputs. Women's health is complex. When seeing a doctor, it can be difficult to convey the symtpoms you are experiencing or express the concerns you have, so this app would serve as a tool to help doctors and patients better understand one another. It would be ideal for the user to be able to access their data and charts from doctor's visits as well.
5. I would have liked to explore the ORK3DModeling tool. I could see this feature greatly enhancing the educational components of my app.
6. I did not have a chance to modify each task's schedule, so this would be another priority in future development.

## Challenges faced while developing
<!--
Describe any challenges you faced with learning Swift, your baseline app, or adding features. You can describe how you overcame them.
-->
I faced many challenges while developing Cycle Pal, but I learned so much along the way. Working with surveys was a massive learning curve, even though we created the check-in and range of motion surveys as a class. In my surveys, I used question types that we had not previously discussed in class. I referenced code from the final-app->ResearchKit->samples->ORKCatalog->Tasks->TaskListRow.swift mentioned in the project instructions to create the different question types. In this process, the biggest challenge I faced was knowing how to extract and use the values entered in the survey, specifically the text choice questions (mood, symptoms, sexual activity, and breast-specific symptoms). I overcame this issue by debugging/inspecting values, developing a deeper understanding of how the code we wrote in class works, and asking for help.

Another issue I ran into was displaying values collected in surveys on charts. To overcome this, I had to learn how the event aggregators worked, and I received help from Dr. Baker in correctly implementing this.

I also ran into challenges trying to display the user's current cycle day. Once again, extracting the user's last period start date from the Onboarding survey was its own challenge. From there, using "relative time" was a good fit for this task because I was trying to determine the number of days between the start date of the user's last period and the current day. Dr. Baker allowed me to borrow the relativeTime closure from his SnapCat project. Then, I was able to modify the closure to obtain the value I wanted. 

## Setup Your Parse Server

### Heroku
The easiest way to setup your server is using the [one-button-click](https://github.com/netreconlab/parse-hipaa#heroku) deplyment method for [parse-hipaa](https://github.com/netreconlab/parse-hipaa).


## View your data in Parse Dashboard

### Heroku
The easiest way to setup your dashboard is using the [one-button-click](https://github.com/netreconlab/parse-hipaa-dashboard#heroku) deplyment method for [parse-hipaa-dashboard](https://github.com/netreconlab/parse-hipaa-dashboard).
